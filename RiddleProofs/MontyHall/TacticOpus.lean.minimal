import Mathlib.Data.ENNReal.Basic
import Mathlib.Data.ENNReal.Real
import Mathlib.Data.ENNReal.Inv

open ENNReal

syntax "test_pattern" : tactic

macro_rules
| `(tactic| test_pattern) => `(tactic| 
  rw [Nat.cast_mul, Nat.cast_mul]; exact ENNReal.mul_div_mul_right (↑a) (↑b) (by norm_cast; assumption) (ENNReal.natCast_ne_top c))

-- Test the specific pattern
example {a b c : ℕ} (hc : c ≠ 0) : (↑(a * c) : ENNReal) / (↑(b * c)) = (↑a) / (↑b) := by
  test_pattern
